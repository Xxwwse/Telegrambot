#developer: vk: @kirillchimbur && tg: @chimburdev && @chelik_r
#group tg: @mgmsoftware

from config import *
from time import sleep, perf_counter
import requests
from pyrogram import Client, filters, sync
from pyrogram.errors import FloodWait

stop = False
client = Client('session', '15179171', 'c8c90d2964a788d4827aac026acf6913')
client.start()
client.stop()

response = requests.get('https://www.cbr-xml-daily.ru/daily_json.js')
data = response.json()
usd_rate = data['Valute']['USD']['Value']
a = round(usd_rate, 2)

print('\n' + BLUE + '[' + GREEN + 'INFO' + BLUE + ']' + WHITE + ' Ğ‘Ğ¾Ñ‚ ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾ Ğ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ğ»ÑÑ!\n' + BLUE + '[' + GREEN + 'INFO' + BLUE + ']' + WHITE + ' Ğ Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸Ğº: ' + GOLD + 'vk: @kirillchimbur && tg: @chimburdev && @chelik_r\n' + BLUE + '[' + GREEN + 'INFO' + BLUE + ']' + WHITE + ' ĞĞ°ÑˆĞ° Ñ‚ĞµĞ»ĞµĞ³Ñ€Ğ°Ğ¼Ğ¼ Ğ³Ñ€ÑƒĞ¿Ğ¿Ğ°: ' + GOLD + '@mgmsoftware' + RESET)

@client.on_message(filters.command(spam_command, prefixes=commands_prefix) & filters.me)
def message_handler(client, message):
    global stop
    args = message.text.split(' ')
    client.delete_messages(message.chat.id, message.id)
    if args[1] == 'stop':
        stop = True
        client.send_message(message.chat.id, 'Ğ’Ñ‹ ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾ Ğ¾Ñ‚ĞºĞ»ÑÑ‡Ğ¸Ğ»Ğ¸ ÑĞ¿Ğ°Ğ¼!')
    else:
        i = int(args[1])
        args.pop(0)
        args.pop(0)
        print(BLUE + '[' + AQUA + 'LOG' + BLUE + ']' + WHITE + ' Ğ¡Ğ¿Ğ°Ğ¼ Ğ±Ñ‹Ğ» ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾ Ğ·Ğ°Ğ¿ÑƒÑ‰ĞµĞ½! ĞšĞ¾Ğ»-Ğ²Ğ¾ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹: ' + GOLD + str(i) + WHITE)
        for i in range(i): 
            try:
                if(stop == True):
                    i = 0
                    stop = False
                    break
                message.reply_text(' '.join(args))
                sleep(1/15)
            except FloodWait as e:
                sleep(e.x)

@client.on_message(filters.command(ping_command, prefixes=commands_prefix) & filters.me)
def message_handler(client, message):
    start = perf_counter()
    client.edit_message_text(message.chat.id, message.id, '<b>ĞŸĞ¾Ğ½Ğ³!</b>')
    end = perf_counter()
    client.edit_message_text(message.chat.id, message.id, f'<b>ĞŸĞ¾Ğ½Ğ³! {round(end - start, 3)} ÑĞµĞº.</b>')

@client.on_message(filters.command(dollar_command, prefixes=commands_prefix) & filters.me)
def message_handler(client, message):
    client.edit_message_text(message.chat.id, message.id, '1 Ğ”Ğ¾Ğ»Ğ»Ğ°Ñ€ = {}â‚½'.format(a))

@client.on_message(filters.command(help_command, prefixes=commands_prefix) & filters.me)
def message_handler(client, message):
    text = """
    ĞŸÑ€ĞµÑ„Ğ¸ĞºÑÑ‹:
.
/
!
-
ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹:
spam [ĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹] [Ğ¢ĞµĞºÑÑ‚] - Ğ¡Ğ¿Ğ°Ğ¼ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹
ping - ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµÑ‚ Ğ²Ğ°Ğ¼ Ğ²Ğ°Ñˆ Ğ¿Ğ¸Ğ½Ğ³
love - ĞŸĞ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ°Ğ½Ğ¸Ğ¼Ğ°Ñ†Ğ¸Ñ Ñ ÑĞµÑ€Ğ´Ñ†Ğ¾Ğ¼
dollar - ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµÑ‚ ĞºÑƒÑ€Ñ Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ°
help - ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµÑ‚ Ğ²Ğ°Ğ¼ ÑÑ‚Ğ¾ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ
ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ğ²Ğ²Ğ¾Ğ´Ğ° ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹:
[ĞŸÑ€ĞµÑ„Ğ¸ĞºÑ][ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ°] [ĞÑ€Ğ³ÑƒĞ¼ĞµĞ½Ñ‚Ñ‹ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹]
    """
    client.edit_message_text(message.chat.id, message.id, text)

@client.on_message(filters.command(love_command, prefixes=commands_prefix) & filters.me)
def message_handler(client, message):
    client.edit_message_text(message.chat.id, message.id, 'ğŸ¤ğŸ¤ğŸ¤ğŸ¤ğŸ¤ğŸ¤ğŸ¤ğŸ¤ğŸ¤\nğŸ¤ğŸ¤â¤ï¸â¤ï¸ğŸ¤â¤ï¸â¤ï¸ğŸ¤ğŸ¤\nğŸ¤â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸ğŸ¤\nğŸ¤â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸ğŸ¤\nğŸ¤â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸ğŸ¤\nğŸ¤ğŸ¤â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸ğŸ¤ğŸ¤\nğŸ¤ğŸ¤ğŸ¤â¤ï¸â¤ï¸â¤ï¸ğŸ¤ğŸ¤ğŸ¤\nğŸ¤ğŸ¤ğŸ¤ğŸ¤â¤ï¸ğŸ¤ğŸ¤ğŸ¤ğŸ¤\nğŸ¤ğŸ¤ğŸ¤ğŸ¤ğŸ¤ğŸ¤ğŸ¤ğŸ¤ğŸ¤')
    client.edit_message_text(message.chat.id, message.id, 'ğŸ¤ğŸ¤ğŸ¤ğŸ¤ğŸ¤ğŸ¤ğŸ¤ğŸ¤ğŸ¤\nğŸ¤ğŸ¤ğŸ§¡ğŸ§¡ğŸ¤ğŸ§¡ğŸ§¡ğŸ¤ğŸ¤\nğŸ¤ğŸ§¡ğŸ§¡ğŸ§¡ğŸ§¡ğŸ§¡ğŸ§¡ğŸ§¡ğŸ¤\nğŸ¤ğŸ§¡ğŸ§¡ğŸ§¡ğŸ§¡ğŸ§¡ğŸ§¡ğŸ§¡ğŸ¤\nğŸ¤ğŸ§¡ğŸ§¡ğŸ§¡ğŸ§¡ğŸ§¡ğŸ§¡ğŸ§¡ğŸ¤\nğŸ¤ğŸ¤ğŸ§¡ğŸ§¡ğŸ§¡ğŸ§¡ğŸ§¡ğŸ¤ğŸ¤\nğŸ¤ğŸ¤ğŸ¤ğŸ§¡ğŸ§¡ğŸ§¡ğŸ¤ğŸ¤ğŸ¤\nğŸ¤ğŸ¤ğŸ¤ğŸ¤ğŸ§¡ğŸ¤ğŸ¤ğŸ¤ğŸ¤\nğŸ¤ğŸ¤ğŸ¤ğŸ¤ğŸ¤ğŸ¤ğŸ¤ğŸ¤ğŸ¤')
    sleep(1/2)
    client.edit_message_text(message.chat.id, message.id, 'ğŸ¤ğŸ¤ğŸ¤ğŸ¤ğŸ¤ğŸ¤ğŸ¤ğŸ¤ğŸ¤\nğŸ¤ğŸ¤ğŸ’›ğŸ’›ğŸ¤ğŸ’›ğŸ’›ğŸ¤ğŸ¤\nğŸ¤ğŸ’›ğŸ’›ğŸ’›ğŸ’›ğŸ’›ğŸ’›ğŸ’›ğŸ¤\nğŸ¤ğŸ’›ğŸ’›ğŸ’›ğŸ’›ğŸ’›ğŸ’›ğŸ’›ğŸ¤\nğŸ¤ğŸ’›ğŸ’›ğŸ’›ğŸ’›ğŸ’›ğŸ’›ğŸ’›ğŸ¤\nğŸ¤ğŸ¤ğŸ’›ğŸ’›ğŸ’›ğŸ’›ğŸ’›ğŸ¤ğŸ¤\nğŸ¤ğŸ¤ğŸ¤ğŸ’›ğŸ’›ğŸ’›ğŸ¤ğŸ¤ğŸ¤\nğŸ¤ğŸ¤ğŸ¤ğŸ¤ğŸ’›ğŸ¤ğŸ¤ğŸ¤ğŸ¤\nğŸ¤ğŸ¤ğŸ¤ğŸ¤ğŸ¤ğŸ¤ğŸ¤ğŸ¤ğŸ¤')
    sleep(1/2)
    client.edit_message_text(message.chat.id, message.id, 'ğŸ¤ğŸ¤ğŸ¤ğŸ¤ğŸ¤ğŸ¤ğŸ¤ğŸ¤ğŸ¤\nğŸ¤ğŸ¤ğŸ’šğŸ’šğŸ¤ğŸ’šğŸ’šğŸ¤ğŸ¤\nğŸ¤ğŸ’šğŸ’šğŸ’šğŸ’šğŸ’šğŸ’šğŸ’šğŸ¤\nğŸ¤ğŸ’šğŸ’šğŸ’šğŸ’šğŸ’šğŸ’šğŸ’šğŸ¤\nğŸ¤ğŸ’šğŸ’šğŸ’šğŸ’šğŸ’šğŸ’šğŸ’šğŸ¤\nğŸ¤ğŸ¤ğŸ’šğŸ’šğŸ’šğŸ’šğŸ’šğŸ¤ğŸ¤\nğŸ¤ğŸ¤ğŸ¤ğŸ’šğŸ’šğŸ’šğŸ¤ğŸ¤ğŸ¤\nğŸ¤ğŸ¤ğŸ¤ğŸ¤ğŸ’šğŸ¤ğŸ¤ğŸ¤ğŸ¤\nğŸ¤ğŸ¤ğŸ¤ğŸ¤ğŸ¤ğŸ¤ğŸ¤ğŸ¤ğŸ¤')
